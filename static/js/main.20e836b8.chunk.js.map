{"version":3,"sources":["GoodsList.tsx","api/goods.ts","App.tsx","Loader/Loader.tsx","index.tsx"],"names":["GoodsList","goods","map","good","id","name","color","className","style","getAll","fetch","then","response","ok","headers","get","includes","json","Promise","reject","Error","status","statusText","SortType","Loader","buttonNames","NONE","ALL","FIRST5","RED","App","useState","setGoods","sortType","setSortType","errorText","setErrorText","loading","setLoading","getGoods","promise","a","goodsFromServer","String","handleButtonClick","newSortType","sort","g1","g2","localeCompare","slice","filter","Object","values","Boolean","currentSortType","type","onClick","ReactDOM","render","document","getElementById"],"mappings":"iRAOaA,EAA6B,SAAC,GAAD,IAAGC,EAAH,EAAGA,MAAH,OACxC,6BACGA,EAAMC,KAAI,SAAAC,GACT,IACEC,EAGED,EAHFC,GACAC,EAEEF,EAFFE,KACAC,EACEH,EADFG,MAGF,OACE,oBACEC,UAAU,YAEV,UAAQ,OACRC,MAAO,CAAEF,SAJX,SAMGD,GAJID,SCdR,SAASK,IACd,OAAOC,MAHI,yEAIRC,MAAK,SAAAC,GAAa,IAAD,EAChB,OAAKA,EAASC,GAMV,UAACD,EAASE,QAAQC,IAAI,uBAAtB,OAAC,EAAsCC,SAAS,oBAM7CJ,EAASK,OALPC,QAAQC,OACb,IAAIC,MAAM,kCAPLF,QAAQC,OACb,IAAIC,MAAJ,UAAaR,EAASS,OAAtB,cAAkCT,EAASU,iB,MAc9C,I,EChBFC,ECNQC,EAAS,kBACpB,qBAAKjB,UAAU,SAAS,UAAQ,SAAhC,SACE,qBAAKA,UAAU,wB,SDIdgB,K,QAAAA,E,iBAAAA,E,2BAAAA,E,kBAAAA,M,KAWL,IAAME,GAAwB,mBAC3BF,EAASG,KAAO,IADW,cAE3BH,EAASI,IAAM,kBAFY,cAG3BJ,EAASK,OAAS,sBAHS,cAI3BL,EAASM,IAAM,kBAJY,GAOjBC,EAAU,WACrB,MAA0BC,mBAAiB,IAA3C,mBAAO9B,EAAP,KAAc+B,EAAd,KACA,EAAgCD,mBAAmBR,EAASG,MAA5D,mBAAOO,EAAP,KAAiBC,EAAjB,KACA,EAAkCH,mBAAS,IAA3C,mBAAOI,EAAP,KAAkBC,EAAlB,KACA,EAA8BL,oBAAS,GAAvC,mBAAOM,EAAP,KAAgBC,EAAhB,KAEMC,EAAQ,uCAAG,WAAOC,GAAP,eAAAC,EAAA,6DACfH,GAAW,GACXF,EAAa,IAFE,kBAKiBI,EALjB,OAKPE,EALO,OAObV,EAASU,GAPI,gDASbN,EAAaO,OAAO,EAAD,KATN,yBAWbL,GAAW,GAXE,4EAAH,sDAeRM,EAAoB,SAACC,GACzB,GAAIZ,IAAaY,EAMjB,OAFAX,EAAYW,GAEJA,GACN,KAAKtB,EAASI,IACZY,EAAS9B,KACT,MAEF,KAAKc,EAASK,OACZW,EDnCC9B,IACJE,MAAK,SAAAV,GAAK,OAAIA,EACZ6C,MAAK,SAACC,EAAIC,GAAL,OAAYD,EAAG1C,KAAK4C,cAAcD,EAAG3C,SAC1C6C,MAAM,EAAG,OCiCR,MAEF,KAAK3B,EAASM,IACZU,EDhCC9B,IACJE,MAAK,SAAAV,GAAK,OACTA,EAAMkD,QAAO,SAAAhD,GAAI,MAAmB,QAAfA,EAAKG,eCsC9B,OACE,sBAAKC,UAAU,kBAAf,UACE,oBAAIA,UAAU,mBAAd,mCAEA,qBAAKA,UAAU,mBAAf,SACG6C,OAAOC,OAAO9B,GAAU4B,OAAOG,SAASpD,KAAI,SAACqD,GAAD,OAC3C,wBACEhD,UAAU,iCACViD,KAAK,SACL,UAASD,EACTE,QAAS,WACPb,EAAkBW,IALtB,SAQG9B,EAAY8B,UAKlBlB,GACC,cAAC,EAAD,IAGDF,EACG,6CAAcA,KACd,cAAC,EAAD,CAAWlC,MAAOA,Q,ME7F5ByD,IAASC,OACP,cAAC,EAAD,IACAC,SAASC,eAAe,W","file":"static/js/main.20e836b8.chunk.js","sourcesContent":["import React from 'react';\nimport { Good } from './types/Good';\n\ntype Props = {\n  goods: Good[]\n};\n\nexport const GoodsList: React.FC<Props> = ({ goods }) => (\n  <ul>\n    {goods.map(good => {\n      const {\n        id,\n        name,\n        color,\n      } = good;\n\n      return (\n        <li\n          className=\"is-size-5\"\n          key={id}\n          data-cy=\"good\"\n          style={{ color }}\n        >\n          {name}\n        </li>\n      );\n    })}\n  </ul>\n);\n","import { Good } from '../types/Good';\n\n// eslint-disable-next-line\nconst API_URL = `https://mate-academy.github.io/react_dynamic-list-of-goods/goods.json`;\n\nexport function getAll(): Promise<Good[]> {\n  return fetch(API_URL)\n    .then(response => {\n      if (!response.ok) {\n        return Promise.reject(\n          new Error(`${response.status} - ${response.statusText}`),\n        );\n      }\n\n      if (!response.headers.get('content-type')?.includes('application/json')) {\n        return Promise.reject(\n          new Error('Content type is not supported'),\n        );\n      }\n\n      return response.json();\n    });\n}\n\nexport const get5First = () => {\n  return getAll()\n    .then(goods => goods\n      .sort((g1, g2) => g1.name.localeCompare(g2.name))\n      .slice(0, 5));\n};\n\nexport const getRedGoods = () => {\n  return getAll()\n    .then(goods => (\n      goods.filter(good => good.color === 'red')\n    ));\n};\n","import { FC, useState } from 'react';\nimport './App.scss';\nimport { GoodsList } from './GoodsList';\nimport { Good } from './types/Good';\n\nimport { get5First, getAll, getRedGoods } from './api/goods';\nimport { Loader } from './Loader';\n\nenum SortType {\n  NONE = '',\n  ALL = 'all-button',\n  FIRST5 = 'first-five-button',\n  RED = 'red-button',\n}\n\ntype ButtonNames = {\n  [key in SortType]: string;\n};\n\nconst buttonNames: ButtonNames = {\n  [SortType.NONE]: '',\n  [SortType.ALL]: 'Load all goods',\n  [SortType.FIRST5]: 'Load 5 first goods',\n  [SortType.RED]: 'Load red goods',\n};\n\nexport const App: FC = () => {\n  const [goods, setGoods] = useState<Good[]>([]);\n  const [sortType, setSortType] = useState<SortType>(SortType.NONE);\n  const [errorText, setErrorText] = useState('');\n  const [loading, setLoading] = useState(false);\n\n  const getGoods = async (promise: Promise<Good[]>): Promise<void> => {\n    setLoading(true);\n    setErrorText('');\n\n    try {\n      const goodsFromServer = await promise;\n\n      setGoods(goodsFromServer);\n    } catch (error) {\n      setErrorText(String(error));\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleButtonClick = (newSortType: SortType) => {\n    if (sortType === newSortType) {\n      return;\n    }\n\n    setSortType(newSortType);\n\n    switch (newSortType) {\n      case SortType.ALL:\n        getGoods(getAll());\n        break;\n\n      case SortType.FIRST5:\n        getGoods(get5First());\n        break;\n\n      case SortType.RED:\n        getGoods(getRedGoods());\n        break;\n\n      default:\n        break;\n    }\n  };\n\n  return (\n    <div className=\"App p-6 content\">\n      <h1 className=\"block title is-1\">Dynamic list of Goods</h1>\n\n      <div className=\"field is-grouped\">\n        {Object.values(SortType).filter(Boolean).map((currentSortType) => (\n          <button\n            className=\"button is-light mr-3 is-medium\"\n            type=\"button\"\n            data-cy={currentSortType}\n            onClick={() => {\n              handleButtonClick(currentSortType);\n            }}\n          >\n            {buttonNames[currentSortType]}\n          </button>\n        ))}\n      </div>\n\n      {loading && (\n        <Loader />\n      )}\n\n      {errorText\n        ? <p>{`Error! ${errorText}`}</p>\n        : <GoodsList goods={goods} />}\n    </div>\n  );\n};\n","import './Loader.scss';\n\nexport const Loader = () => (\n  <div className=\"Loader\" data-cy=\"Loader\">\n    <div className=\"Loader__content\" />\n  </div>\n);\n","import ReactDOM from 'react-dom';\nimport { App } from './App';\nimport 'bulma/css/bulma.css';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}